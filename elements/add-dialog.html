<link rel="import" href="../bower_components/polymer/polymer.html">

<dom-module id="add-dialog">
    <style>
        :host {
            display: block;
            padding: 10px 20px;
        }
        
        #dropzone {
            -moz-border-radius: 5px;
            -webkit-border-radius: 5px;
            border-radius: 5px;
            padding: 90px 10px;
            text-align: center;
            font: 20pt bold 'Helvetica';
            color: #bbb;
            background: white;
        }
        
        #files {
            display: block;
            margin: 0 auto;
            ;
        }
        
        #files::-webkit-file-upload-button {
            visibility: hidden;
        }
        
        #files::before {
            content: 'or click to select files';
            background: white;
            padding: 5px;
            outline: none;
            white-space: nowrap;
            -webkit-user-select: none;
            cursor: pointer;
            font-size: 16pt;
            margin: 0 auto;
        }
        
        #files:hover::before {
            border-color: black;
        }
        
        #files:active::before {
            background: -webkit-linear-gradient(top, #e3e3e3, #f9f9f9);
        }
        
        paper-button.indigo {
            background-color: var(--paper-indigo-500);
            color: white;
            --paper-button-raised-keyboard-focus: {
                background-color: var(--paper-pink-a200) !important;
                color: white !important;
            }
            ;
        }
    </style>

    <template>
        <app-pouchdb-confict-resolution strategy="firstWriteWins"></app-pouchdb-conflict-resolution>
            <paper-dialog id="modal">
                <h2>Add a bottle</h2>
                <paper-tabs selected="{{selected}}">
                    <paper-tab>Manual
                        <iron-icon icon="social:person"></iron-icon>
                    </paper-tab>
                    <paper-tab>File
                        <iron-icon icon="file-upload"></iron-icon>
                    </paper-tab>
                    <paper-tab>
                        Take a picture
                        <iron-icon icon="image:add-a-photo"></iron-icon>
                    </paper-tab>
                </paper-tabs>
                <iron-pages selected="{{selected}}">
                    <div>
                        <add-form></add-form>
                    </div>
                    <div>
                        <div id="dropzone" on-tap="{{tapSelect}}" on-dragover="{{handleDragOver}}" on-drop="{{handleFileSelect}}">
                            Drag files to upload
                            <input type="file" id="files" name="files[]" on-change="{{handleFilePick}}" multiple>
                        </div>
                        <paper-button raised class="custom indigo">
                            <iron-icon icon="file-download"></iron-icon>Submit</paper-button>
                    </div>
                    <div>Page 3</div>
                </iron-pages>
            </paper-dialog>
    </template>

    <script>
        Polymer({
            is: 'add-dialog'
        });
    </script>
</dom-module>